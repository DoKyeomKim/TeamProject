<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.prj.reviewboard.mapper.ReviewBoardPagingMapper">

<select id="getReviewBoardPagingList" 
        resultType="com.prj.reviewboard.domain.ReviewBoardVo">
    SELECT  COMU_ID,
    		RNO,
			NAME,
			TITLE,
			CONTENT,
			STAR
	  FROM  REVIEWBOARD
	  <where>
	    <if test="arg0 != null and arg0 != ''">
			 AND RNO = #{ arg0 }
		</if>
	    <if test="arg1 != null and arg1 != ''">
	      AND NAME LIKE '%' || #{ arg1 } || '%'
	    </if>
	    <if test="arg2 != null and arg2 != ''">
			 AND STAR = #{ arg2 }
		</if>
	  </where> 
	  ORDER BY RNO DESC
	  OFFSET #{ arg3 } ROWS FETCH NEXT #{ arg4 } ROWS ONLY    
       
</select>

<select id="count" 
        parameterType="com.prj.reviewboard.domain.ReviewBoardVo" 
        resultType="int">
		SELECT COUNT(*) AS CNT
		  FROM REVIEWBOARD
		  <where>
		  <if test="rno != null and rno != ''">
			 AND RNO = #{ rno }
		  </if>
		  <if test="name != null and name != ''">
			 AND NAME LIKE '%' || #{ name } || '%'
		  </if>
		  <if test="star != null and star != ''">
			 AND STAR = #{ star }
		  </if>
		  </where>
	</select>








</mapper>